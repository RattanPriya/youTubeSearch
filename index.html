<!doctype html>
<html ng-app="MyApp">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Search Videos</title>
        <link rel="stylesheet" href="css/style.css">
        <link rel="author" href="humans.txt">

    </head>
    <body ng-controller="MainController as ctrl">
		<div id="container">
			<header>
				<h1>  Search <span> Vidz </span></h1>
				<p> Search all youtube Videos</p>
			</header>
			<section>
        <form id="search-form" name="search-form"
            ng-class="{'search-focused': ctrl.isSearchFocused}"
            ng-submit="ctrl.search()">
					<div class="fieldcontainer">
            <input type="search" id="query" ng-model="ctrl.query" class="search-field" 
                ng-focus="ctrl.isSearchFocused = true"
                ng-blur="ctrl.isSearchFocused = false"
                placeholder="Search YouTube">
						<input type="submit" name="search-btn" id="search-btn" value="">
					</div>
				</form>
        <ul id="results" ng-show="ctrl.results.length">
          <li ng-repeat="result in ctrl.results track by $index" 
              ng-click="ctrl.activeVideoId = result.id.videoId" class="list-item clearfix">
            <div class="list-left">
              <img class="list-left-img" ng-src="{{result.snippet.thumbnails.high.url}}">
            </div>
            <div class="list-right">
              <h3>{{result.snippet.title}}</h3>
              <small>
                By 
                <span class="cTitle">{{result.snippet.channelTitle}}</span> on 
                {{result.snippet.publishedAt}}
              </small>
              <p>{{result.snippet.description}}</p>
            </div>
          </li>
        </ul>
        <div id="buttons">
          <div class="button-container"> 
            <button class="paging-btn" ng-if="ctrl.prevPageToken" 
                ng-click="ctrl.search(ctrl.prevPageToken)">Previous</button> 
            <button class="paging-btn" ng-if="ctrl.nextPageToken"
                ng-click="ctrl.search(ctrl.nextPageToken)">Next</button>
          </div>
        </div>
			</section>
			<footer>
				<p> Copyright &copy; All rights reserved</p>
			</footer>
		</div>   
		<div class="youtube-overlay" ng-if="ctrl.activeVideoId" ng-click="ctrl.activeVideoId = null">
			<div class="youtube-modal">
        <iframe class="video-iframe" ng-src="{{ctrl.getVideoUrl(ctrl.activeVideoId)}}">
				</iframe>
			</div>
		</div>     
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
        <script src="js/script.js"></script>
    </body>
</html>
